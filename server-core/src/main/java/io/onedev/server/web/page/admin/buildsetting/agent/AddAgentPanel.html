<wicket:panel>
	<div class="p-5 add-agent">
		<h6 class="text-center mb-4">连接新Agent</h6>
		<ul wicket:id="tabs" class="nav nav-tabs nav-tabs-line nav-bold mb-4"></ul>
		<div wicket:id="instructions"></div>
	</div>
	<wicket:fragment wicket:id="dockerInstructionsFrag">
		<a wicket:id="showCommand" class="btn btn-light-primary">显示命令</a> 
		<div class="text-muted font-size-sm mt-2 mb-3">(每次按下此按钮都会生成一个新的代理令牌)</div>					
		<div wicket:id="command"></div>
	</wicket:fragment>
	<wicket:fragment wicket:id="bareMetalInstructionsFrag">
		<div class="alert alert-light p-0 py-4">
			<div class="px-3 mb-2">按照以下步骤在远程机器上安装agent (支持 Linux/Windows/Mac OS X/FreeBSD):</div>
			<ol class="mb-0">
				<li>确保 <a href="https://openjdk.java.net" target="_blank">Java 11 or higher</a> 已安装</li>
				<li>确保安装了 docker 引擎并且系统路径中提供了 docker 命令行</li>
				<li>确保当前用户有权运行 docker 容器</li>
				<li>确保 git version 2.11.1 or higher 已安装并在系统路径中可用</li>
				<li>确保 git-lfs 如果要检索 LFS 文件，已安装并在系统路径中可用</li>
				<li>下载 <a wicket:id="agent" class="link-primary">agent package</a>. 一个新的agent token将包含在包装中e</li>
				<li>将包解压到文件夹中</li>
				<li>
					更改属性 <code>serverUrl</code> 在文件中 <code>conf/agent.properties</code> 如有必要。 默认值为
					取自在指定的管理系统服务器 url <i>管理/系统设置</i> 
				</li> 
				<li>从提取的文件夹, 运行 <code>bin\agent.bat console</code> 作为 Windows 上的管理员或者<code>bin/agent.sh console</code>在其他操作系统上 </li>
			</ol>
		</div>
		<ul class="text-muted font-size-sm mb-0">
			<li>
				Agen设计为免维护。 一旦连接到服务器，它将自动更新
				服务器升级时
			</li>
			<li>
				查看 <a wicket:id="help" target="_blank">agent 管理</a> 详情, 包括有关如何将agent作为服务运行的说明
			</li>
		</ul>
	</wicket:fragment>
	<wicket:fragment wicket:id="dockerCommandFrag">
		通过运行以下命令在远程 Linux 机器上启动代理: 
		<div class="text-monospace font-size-sm mt-3 alert alert-light">
			<span wicket:id="command"></span> <a wicket:id="copy"><wicket:svg href="copy" class="icon"></wicket:svg></a>
		</div>
		<ul class="text-muted font-size-sm mb-0">
			<li>
				环境变量 <code>serverUrl</code> 上面的命令取自管理系统的服务器 url
				中指定 <i>管理 / 系统设置</i>. 必要时更改 
			</li> 
			<li>
				Agent设计为免维护。 一旦连接到服务器，它将自动更新
				服务器升级时
			</li>
			<li>
				查看 <a wicket:id="help" target="_blank">agent 管理</a> 详情, 包括支持的环境变量列表
			</li>
		</ul>
	</wicket:fragment>
</wicket:panel>